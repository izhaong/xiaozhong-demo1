(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-music-index"],{"0c2e":function(t,a,i){"use strict";var e=i("50d9"),n=i.n(e);n.a},"452a":function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"bg-gradual-blue"},[i("v-uni-scroll-view",{staticClass:"DrawerPage",class:"viewModal"==t.modalName?"show":"",attrs:{"scroll-y":""}},[i("v-uni-button",{staticClass:"zh-btn-fix cu-btn cuIcon bg-red",attrs:{"data-target":"viewModal"},on:{click:function(a){a=t.$handleEvent(a),t.showModal(a)}}},[t._v("榜单")]),i("v-uni-view",{staticClass:"zh-mscList",attrs:{"data-target":"DrawerModalR"},on:{click:function(a){a=t.$handleEvent(a),t.showModal(a)}}},[i("v-uni-image",{staticClass:"zh-msclist",attrs:{src:"../../static/music/musicList.png",mode:""}})],1),i("v-uni-view",{staticClass:"cu-modal drawer-modal justify-end",class:"DrawerModalR"==t.modalName?"show":"",on:{click:function(a){a=t.$handleEvent(a),t.hideModal(a)}}},[i("v-uni-view",{staticClass:"cu-dialog basis-lg",style:[{top:t.CustomBar+"px",height:"calc(100vh - "+t.CustomBar+"px)"}],on:{click:function(a){a.stopPropagation(),a=t.$handleEvent(a)}}},[i("v-uni-view",{staticClass:"cu-list menu text-left"},t._l(t.audio,function(a,e){return i("v-uni-view",{key:e,staticClass:"list",class:{active:e===t.now},on:{click:function(a){a=t.$handleEvent(a),t.now=e}}},[i("v-uni-view",{staticClass:"list-title"},[t._v(t._s(e+1))]),i("v-uni-image",{staticClass:"list-pic",attrs:{src:"../../static/music/music.gif"}})],1)}),1)],1)],1),i("v-uni-view",{staticClass:"cu-card case"},t._l(t.musicDetail,function(a,e){return i("v-uni-view",{staticClass:"cu-item shadow"},[i("v-uni-view",{staticClass:"image zh-direction-top"},[i("v-uni-image",{attrs:{src:a.songPicRadio,mode:"widthFix"}}),i("v-uni-view",{staticClass:"cu-bar bg-shadeBottom"},[i("v-uni-text",{staticClass:"text-cut"},[t._v(t._s(a.albumName)+"--"+t._s(a.artistName))])],1)],1),i("v-uni-view",{staticClass:"content zh-fixed-bottom"},[i("imt-audio",{attrs:{continue:"",src:t.audio[t.now].src,duration:t.audio[t.now].duration},on:{prev:function(a){a=t.$handleEvent(a),t.now=0===t.now?t.audio.length-1:t.now-1},next:function(a){a=t.$handleEvent(a),t.now=t.now===t.audio.length-1?0:t.now+1}}})],1)],1)}),1)],1),i("v-uni-view",{staticClass:"DrawerClose",class:"viewModal"==t.modalName?"show":"",on:{click:function(a){a=t.$handleEvent(a),t.hideModal(a)}}},[i("v-uni-text",{staticClass:"cuIcon-pullright"})],1),i("v-uni-scroll-view",{staticClass:"DrawerWindow",class:"viewModal"==t.modalName?"show":"",attrs:{"scroll-y":""}},[i("v-uni-view",{staticClass:"cu-list menu shadow-lg"},[i("v-uni-scroll-view",{staticClass:"bg-white nav fixed",attrs:{"scroll-x":"","scroll-with-animation":"","scroll-left":t.scrollLeft}},t._l(t.musicRank,function(a,e){return i("v-uni-view",{key:e,staticClass:"cu-item",class:e==t.TabCur?"text-blue cur":"",attrs:{"data-id":e},on:{click:function(a){a=t.$handleEvent(a),t.tabSelect(a)}}},[t._v(t._s(a.name))])}),1),t._l(t.musicRank,function(a,e){return e==t.TabCur?i("v-uni-view",{key:e},[i("v-uni-view",{staticClass:"cu-list menu margin-top-sm shadow-lg"},t._l(t.musicRankDetail,function(a,e){return i("v-uni-view",{key:e,staticClass:"cu-item",on:{click:function(i){i=t.$handleEvent(i),t.getMusicDetails(a.song_id)}}},[i("v-uni-view",{staticClass:"content flex justify-between"},[i("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(a.album_title))]),i("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(a.author))])],1)],1)}),1)],1):t._e()})],2)],1)],1)},n=[];i.d(a,"a",function(){return e}),i.d(a,"b",function(){return n})},"50d9":function(t,a,i){var e=i("9b45");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=i("4f06").default;n("7774e7bf",e,!0,{sourceMap:!1,shadowMode:!1})},"58d5":function(t,a,i){"use strict";i.r(a);var e=i("828d"),n=i.n(e);for(var o in e)"default"!==o&&function(t){i.d(a,t,function(){return e[t]})}(o);a["default"]=n.a},"63a7":function(t,a,i){var e=i("77cd");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=i("4f06").default;n("35255560",e,!0,{sourceMap:!1,shadowMode:!1})},"77cd":function(t,a,i){a=t.exports=i("2350")(!1),a.push([t.i,".zh-musIcon[data-v-ab7be886]{width:%?60?%;height:%?60?%}.zh-musIcon-paused[data-v-ab7be886]{width:%?80?%;height:%?80?%}.imt-audio[data-v-ab7be886]{padding:%?30?%;background:#fff;border-radius:%?20?%}.audio-wrapper[data-v-ab7be886]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.audio-number[data-v-ab7be886]{font-size:%?24?%;line-height:1;color:#333}.audio-slider[data-v-ab7be886]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin:0 %?30?%}.audio-control-wrapper[data-v-ab7be886]{margin-top:%?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.audio-control[data-v-ab7be886]{line-height:1;padding:%?16?%}.audio-control-next[data-v-ab7be886]{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.audio-control-switch[data-v-ab7be886]{margin:0 %?80?%}.audioLoading[data-v-ab7be886]{-webkit-animation:loading-data-v-ab7be886 2s;animation:loading-data-v-ab7be886 2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear}@-webkit-keyframes loading-data-v-ab7be886{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loading-data-v-ab7be886{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""])},"828d":function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e,n=o(i("ad63"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var r={data:function(){var t;return t={modalName:null,CustomBar:this.CustomBar,audio:[{src:"http://music.163.com/song/media/outer/url?id=25906124.mp3",duration:300},{src:"http://mouyizhan.com/1.mp3",duration:212},{src:"http://mouyizhan.com/2.mp3",duration:189},{src:"http://mouyizhan.com/3.mp3",duration:214},{src:"http://mouyizhan.com/4.mp3",duration:205},{src:"http://mouyizhan.com/5.mp3",duration:228}],now:0},s(t,"modalName",null),s(t,"songList",[]),s(t,"musicRank",[]),s(t,"musicRankDetail",[]),s(t,"musicDetail",[{artistName:"陈奕迅",link:"http://music.163.com/#/song?id=25906124",songPicRadio:"http://p2.music.126.net/96L4ojVi9N3tdHk3r3GXjQ==/109951163066640079.jpg?param=300x300",type:"netease",albumName:"不要说话",lrc:"",songid:25906124,url:"http://music.163.com/song/media/outer/url?id=25906124.mp3"}]),s(t,"TabCur",0),s(t,"scrollLeft",0),t},onLoad:function(){this.getMusicRankList(),this.getMusicRankDetails(2)},methods:(e={showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null},getMusicRankList:function(){var t=this;uni.request({url:"https://api.apiopen.top/musicRankings",success:function(a){if(a.data.code-0===200||"成功!"===a.data.msg){var i=[];Object.assign(i,a.data.result),t.musicRank=i}}})},getMusicRankDetails:function(t){var a=this;uni.showLoading({title:"树叶的一生只是落叶归根吗?",mask:!0}),uni.request({url:"https://api.apiopen.top/musicRankingsDetails?type=".concat(t),success:function(t){if(t.data.code-0===200||"成功!"===t.data.msg){var i=[];Object.assign(i,t.data.result),a.musicRankDetail=i}},complete:function(){uni.hideLoading()}})},getMusicDetails:function(t){var a=this;uni.showLoading({title:"树叶的一生只是落叶归根吗?",mask:!0});var i={};uni.request({url:"https://api.apiopen.top/musicDetails?id=".concat(t),success:function(t){if(t.data.code-0===200||"成功!"===t.data.msg){var e=[];Object.assign(e,t.data.result),a.musicDetail=e.songList,i={src:e.songList[0].songLink,duration:500},a.audio.unshift(i)}},complete:function(){uni.hideLoading()}})}},s(e,"showModal",function(t){this.modalName=t.currentTarget.dataset.target}),s(e,"hideModal",function(t){this.modalName=null}),s(e,"tabSelect",function(t){this.TabCur=t.currentTarget.dataset.id,this.scrollLeft=60*(t.currentTarget.dataset.id-1);var a=this.musicRank[this.TabCur].type;this.getMusicRankDetails(a)}),e),components:{imtAudio:n.default}};a.default=r},"8e4c":function(t,a,i){"use strict";var e=i("63a7"),n=i.n(e);n.a},"9b45":function(t,a,i){a=t.exports=i("2350")(!1),a.push([t.i,'.zh-fixed-bottom[data-v-5880d4e8]{position:fixed;bottom:%?50?%;left:0;right:0}.zh-msclist[data-v-5880d4e8]{width:%?50?%;height:%?50?%;position:fixed;right:%?5?%;bottom:20%;z-index:99}.zh-btn-fix[data-v-5880d4e8]{position:fixed;bottom:20%;left:%?5?%;z-index:99;opacity:.5}.content[data-v-5880d4e8]{padding:%?20?%}.list[data-v-5880d4e8]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 %?30?%;background:#fff;border-radius:%?10?%;margin-top:%?20?%;color:#333}.list-title[data-v-5880d4e8]{font-size:%?28?%;line-height:%?88?%}.list-pic[data-v-5880d4e8]{display:none;width:%?28?%;height:%?28?%}.active[data-v-5880d4e8]{background:#169af3;color:#fff}.active .list-pic[data-v-5880d4e8]{display:block}\n\n/* \t.tower-swiper .tower-item {\n\ttransform: scale(calc(0.5 + var(--index) / 10));\n\tmargin-left: calc(var(--left) * 100upx - 150upx);\n\tz-index: var(--index);\n} */uni-page-body[data-v-5880d4e8]{background-image:var(--gradualBlue);width:100vw;overflow:hidden}.DrawerPage[data-v-5880d4e8]{position:fixed;width:100vw;height:100vh;left:0;background-color:#f1f1f1;-webkit-transition:all .4s;-o-transition:all .4s;transition:all .4s}.DrawerPage.show[data-v-5880d4e8]{-webkit-transform:scale(.9);-ms-transform:scale(.9);transform:scale(.9);left:85vw;-webkit-box-shadow:0 0 %?60?% rgba(0,0,0,.2);box-shadow:0 0 %?60?% rgba(0,0,0,.2);-webkit-transform-origin:0;-ms-transform-origin:0;transform-origin:0}.DrawerWindow[data-v-5880d4e8]{position:absolute;width:85vw;height:100vh;left:0;top:0;-webkit-transform:scale(.9) translateX(-100%);-ms-transform:scale(.9) translateX(-100%);transform:scale(.9) translateX(-100%);opacity:0;pointer-events:none;-webkit-transition:all .4s;-o-transition:all .4s;transition:all .4s;padding:%?100?% 0}.DrawerWindow.show[data-v-5880d4e8]{-webkit-transform:scale(1) translateX(0);-ms-transform:scale(1) translateX(0);transform:scale(1) translateX(0);opacity:1;pointer-events:all}.DrawerClose[data-v-5880d4e8]{position:absolute;width:40vw;height:100vh;right:0;top:0;color:rgba(0,0,0,0);padding-bottom:%?30?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-image:-webkit-gradient(linear,left top,right top,from(rgba(0,0,0,.01)),to(rgba(0,0,0,.6)));background-image:-o-linear-gradient(left,rgba(0,0,0,.01),rgba(0,0,0,.6));background-image:linear-gradient(90deg,rgba(0,0,0,.01),rgba(0,0,0,.6));letter-spacing:5px;font-size:%?50?%;opacity:0;pointer-events:none;-webkit-transition:all .4s;-o-transition:all .4s;transition:all .4s}.DrawerClose.show[data-v-5880d4e8]{opacity:1;pointer-events:all;width:15vw;color:#fff}.DrawerPage .cu-bar.tabbar .action uni-button.cuIcon[data-v-5880d4e8]{width:%?64?%;height:%?64?%;line-height:%?64?%;margin:0;display:inline-block}.DrawerPage .cu-bar.tabbar .action .cu-avatar[data-v-5880d4e8]{margin:0}.DrawerPage .nav[data-v-5880d4e8]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.DrawerPage .nav .cu-item.cur[data-v-5880d4e8]{border-bottom:0;position:relative}.DrawerPage .nav .cu-item.cur[data-v-5880d4e8]:after{content:"";width:%?10?%;height:%?10?%;background-color:currentColor;position:absolute;bottom:%?10?%;border-radius:%?10?%;left:0;right:0;margin:auto}.DrawerPage .cu-bar.tabbar .action[data-v-5880d4e8]{-webkit-box-flex:initial;-webkit-flex:initial;-ms-flex:initial;flex:initial}body.?%PAGE?%[data-v-5880d4e8]{background-image:var(--gradualBlue)}',""])},a2b8:function(t,a,i){"use strict";i.r(a);var e=i("452a"),n=i("58d5");for(var o in n)"default"!==o&&function(t){i.d(a,t,function(){return n[t]})}(o);i("0c2e");var s=i("2877"),r=Object(s["a"])(n["default"],e["a"],e["b"],!1,null,"5880d4e8",null);a["default"]=r.exports},ad63:function(t,a,i){"use strict";i.r(a);var e=i("dc78"),n=i("af35");for(var o in n)"default"!==o&&function(t){i.d(a,t,function(){return n[t]})}(o);i("8e4c");var s=i("2877"),r=Object(s["a"])(n["default"],e["a"],e["b"],!1,null,"ab7be886",null);a["default"]=r.exports},af35:function(t,a,i){"use strict";i.r(a);var e=i("c208"),n=i.n(e);for(var o in e)"default"!==o&&function(t){i.d(a,t,function(){return e[t]})}(o);a["default"]=n.a},c208:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=uni.createInnerAudioContext(),n={data:function(){return{currentTime:"",durationTime:"",current:"",loading:!1,paused:!0,seek:!1}},props:{src:String,autoplay:Boolean,duration:Number,control:{type:Boolean,default:!0},continue:Boolean,color:{type:String,default:"#169af3"}},methods:{prev:function(){this.$emit("prev")},next:function(){this.$emit("next")},format:function(t){return"0".repeat(2-String(Math.floor(t/60)).length)+Math.floor(t/60)+":"+"0".repeat(2-String(Math.floor(t%60)).length)+Math.floor(t%60)},operation:function(){this.paused?(e.play(),this.loading=!0):e.pause()},change:function(t){e.seek(t.detail.value)}},created:function(){var t=this;e.src=this.src,this.current=0,this.durationTime=this.format(this.duration),e.obeyMuteSwitch=!1,e.autoplay=this.autoplay,e.onTimeUpdate(function(){t.seek||(t.current=e.currentTime)}),e.onPlay(function(){t.paused=!1,t.loading=!1}),e.onPause(function(){t.paused=!0}),e.onEnded(function(){t.continue?t.next():(t.paused=!0,t.current=0)}),e.onSeeked(function(){t.seek=!1})},watch:{src:function(t){e.src=t,this.current=0,e.play(),this.loading=!0},duration:function(t){this.durationTime=this.format(t)},current:function(t){this.currentTime=this.format(t)}}};a.default=n},dc78:function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"imt-audio"},[i("v-uni-view",{staticClass:"audio-wrapper"},[i("v-uni-view",{staticClass:"audio-number"},[t._v(t._s(t.currentTime))]),i("v-uni-slider",{staticClass:"audio-slider",attrs:{activeColor:t.color,"block-size":"16",value:t.current,max:t.duration},on:{changing:function(a){a=t.$handleEvent(a),t.seek=!0,t.current=a.detail.value},change:function(a){a=t.$handleEvent(a),t.change(a)}}}),i("v-uni-view",{staticClass:"audio-number"},[t._v(t._s(t.durationTime))])],1),i("v-uni-view",{staticClass:"audio-control-wrapper",style:{color:t.color}},[t.control?i("v-uni-view",{staticClass:"audio-control audio-control-prev",style:{borderColor:t.color},on:{click:function(a){a=t.$handleEvent(a),t.prev(a)}}},[i("v-uni-image",{staticClass:"zh-musIcon",attrs:{src:"../../static/music/left-circle-fill.png",mode:""}})],1):t._e(),i("v-uni-view",{staticClass:"audio-control audio-control-switch",class:{audioLoading:t.loading},style:{borderColor:t.color},on:{click:function(a){a=t.$handleEvent(a),t.operation(a)}}},[i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:t.paused,expression:"paused"}],staticClass:"zh-musIcon-paused",attrs:{src:"../../static/music/play-circle-fill.png",mode:""}}),i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:!t.paused,expression:"!paused"}],staticClass:"zh-musIcon-paused",attrs:{src:"../../static/music/poweroff-circle-fill.png",mode:""}})],1),t.control?i("v-uni-view",{staticClass:"audio-control audio-control-next",style:{borderColor:t.color},on:{click:function(a){a=t.$handleEvent(a),t.next(a)}}},[i("v-uni-image",{staticClass:"zh-musIcon",attrs:{src:"../../static/music/left-circle-fill.png",mode:""}})],1):t._e()],1)],1)},n=[];i.d(a,"a",function(){return e}),i.d(a,"b",function(){return n})}}]);